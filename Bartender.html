<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Bartender | Convivium_</title>
    <style>
        /* --- GENEL ATMOSFER --- */
        body {
            background-color: #050505;
            background-image: 
                linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
                linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 2px, 3px 100%;
            color: #e0e0e0;
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
        }

        /* Navigasyon */
        nav { position: absolute; top: 20px; left: 20px; z-index: 10; }
        nav a {
            color: #ff9900; /* Amber rengi (Klasik terminal) */
            text-decoration: none;
            font-weight: bold;
            border: 1px solid #ff9900;
            padding: 8px 15px;
            transition: all 0.3s;
        }
        nav a:hover { background: #ff9900; color: #000; box-shadow: 0 0 15px #ff9900; }

        .container {
            width: 90%;
            max-width: 600px;
            text-align: center;
            z-index: 2;
        }

        /* --- UI ELEMENTLERÄ° --- */
        .bartender-face {
            font-size: 1rem;
            color: #ff9900;
            margin-bottom: 20px;
            white-space: pre;
            text-shadow: 0 0 5px #ff9900;
        }

        .dialogue-box {
            border: 2px solid #333;
            background: rgba(0,0,0,0.8);
            padding: 20px;
            min-height: 100px;
            margin-bottom: 30px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        .typing-text {
            font-size: 1.1rem;
            line-height: 1.5;
            color: #fff;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            animation: fadeIn 0.5s ease;
        }

        .option-btn {
            background: transparent;
            border: 1px solid #555;
            color: #aaa;
            padding: 15px;
            cursor: pointer;
            font-family: inherit;
            font-size: 1rem;
            transition: all 0.2s;
        }

        .option-btn:hover {
            border-color: #ff9900;
            color: #ff9900;
            background: rgba(255, 153, 0, 0.1);
            transform: scale(1.02);
        }

        /* --- SONUÃ‡ KARTI --- */
        .result-card {
            display: none;
            text-align: left;
            border: 1px solid #ff9900;
            background: #111;
            padding: 0;
            animation: slideUp 0.6s ease;
        }

        .result-header {
            background: #ff9900;
            color: #000;
            padding: 10px 20px;
            font-weight: bold;
            font-size: 1.2rem;
            text-transform: uppercase;
            display: flex;
            justify-content: space-between;
        }

        .result-body { padding: 20px; }
        
        .drink-desc { margin-bottom: 20px; color: #ccc; font-style: italic; }
        
        .recipe-box {
            border-left: 3px solid #ff9900;
            padding-left: 15px;
            margin: 20px 0;
            color: #ddd;
        }
        
        .recipe-title { color: #ff9900; font-weight: bold; display: block; margin-bottom: 5px; }

        .price-btn {
            display: block;
            width: 100%;
            text-align: center;
            background: #222;
            color: #fff;
            padding: 15px;
            text-decoration: none;
            border: 1px dashed #666;
            margin-top: 20px;
            transition: all 0.3s;
        }
        
        .price-btn:hover {
            border-color: #0f0;
            color: #0f0;
            background: #001100;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        
        @media (max-width: 500px) {
            .options-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <nav>
        <a href="index.html">< ANA SAYFA</a>
    </nav>

    <div class="container">
        <div class="bartender-face">
   .---.
  /     \   [ B A R T E N D E R _ v 1.0 ]
  | O O |   
   \ v /    "Ne vereyim abime?"
  /  _  \
 (  (_|  )
        </div>

        <div class="dialogue-box">
            <div id="dialogue-text" class="typing-text"></div>
        </div>

        <div id="options-container" class="options-grid">
            </div>

        <div id="result-area" class="result-card">
            <div class="result-header">
                <span id="drink-name">Ä°Ã‡KÄ° ADI</span>
                <span>[MATCH: %98]</span>
            </div>
            <div class="result-body">
                <div id="drink-description" class="drink-desc">AÃ§Ä±klama...</div>
                
                <div class="recipe-box">
                    <span class="recipe-title">> REÃ‡ETE (KOKTEYL):</span>
                    <div id="drink-recipe">Malzemeler...</div>
                </div>

                <a id="price-link" href="#" target="_blank" class="price-btn">
                    [ ğŸ” Ä°NTERNETTE FÄ°YAT ARAÅTIRMASI YAP ]
                </a>
                
                <button onclick="location.reload()" style="margin-top:15px; background:none; border:none; color:#555; cursor:pointer; width:100%">
                    [ BAÅA DÃ–N ]
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- 1. Ä°Ã‡KÄ° VERÄ°TABANI (THE MATRIX) ---
        // Her iÃ§kinin Ã¶zellikleri: mood, taste, intensity
        const drinksDB = [
            {
                name: "OLD FASHIONED",
                tags: { mood: "deep", taste: "bitter", intensity: "high" },
                desc: "Klasiklerin atasÄ±. Viskinin en saf ve karizmatik hali. DÃ¼ÅŸÃ¼nmek ve yavaÅŸ yudumlamak iÃ§in.",
                recipe: "6cl Burbon veya Ã‡avdar Viski<br>1 KÃ¼p Åeker<br>2 damla Angostura Bitters<br>Portakal kabuÄŸu ile sÃ¼sle.",
                query: "viski fiyatlarÄ±"
            },
            {
                name: "NEGRONI",
                tags: { mood: "classy", taste: "bitter", intensity: "high" },
                desc: "Ä°talyan asaleti. TatlÄ± ve acÄ±nÄ±n mÃ¼kemmel dengesi. Bir aperitiften fazlasÄ±.",
                recipe: "3cl Cin<br>3cl Campari<br>3cl Vermut (KÄ±rmÄ±zÄ±)<br>Buz dolu bardaÄŸa dÃ¶k, karÄ±ÅŸtÄ±r. Portakal dilimi at.",
                query: "cin fiyatlarÄ± campari"
            },
            {
                name: "MOJITO",
                tags: { mood: "energy", taste: "sour", intensity: "medium" },
                desc: "KÃ¼ba'nÄ±n ferahlatÄ±cÄ± rÃ¼zgarÄ±. Nane ve limonun dansÄ±. Dans etmek ve serinlemek iÃ§in.",
                recipe: "5cl Beyaz Rom<br>YarÄ±m misket limonu<br>10 yaprak taze nane<br>2 kaÅŸÄ±k ÅŸeker<br>Soda<br>Buzla doldur.",
                query: "beyaz rom fiyatlarÄ±"
            },
            {
                name: "WHISKEY SOUR",
                tags: { mood: "relax", taste: "sour", intensity: "medium" },
                desc: "EkÅŸi, tatlÄ± ve sert. Ä°peksi bir doku iÃ§in yumurta akÄ± (opsiyonel) ile Ã§alkalanÄ±r.",
                recipe: "6cl Viski<br>3cl Limon Suyu<br>2cl Åeker Åurubu<br>(Opsiyonel) Yumurta akÄ±<br>Buzla Ã§alkala.",
                query: "viski fiyatlarÄ±"
            },
            {
                name: "ESPRESSO MARTINI",
                tags: { mood: "energy", taste: "sweet", intensity: "high" },
                desc: "Hem uyandÄ±rÄ±r hem Ã§arpar. Geceyi baÅŸlatmak veya bitirmek iÃ§in mÃ¼kemmel seÃ§im.",
                recipe: "5cl Votka<br>3cl Kahve LikÃ¶rÃ¼ (Kahlua)<br>1 shot taze Espresso<br>Buzla Ã§ok sert Ã§alkala.",
                query: "votka fiyatlarÄ± kahlua"
            },
            {
                name: "APEROL SPRITZ",
                tags: { mood: "relax", taste: "fruity", intensity: "low" },
                desc: "GÃ¼n batÄ±mÄ±nÄ±n resmi iÃ§eceÄŸi. Hafif, kÃ¶pÃ¼klÃ¼ ve turuncu.",
                recipe: "3 Ã¶lÃ§Ã¼ Prosecco (veya KÃ¶pÃ¼klÃ¼ Åarap)<br>2 Ã¶lÃ§Ã¼ Aperol<br>1 Ã¶lÃ§Ã¼ Soda<br>Bol buz ve portakal dilimi.",
                query: "aperol fiyatlarÄ± prosecco"
            },
            {
                name: "LONG ISLAND ICED TEA",
                tags: { mood: "energy", taste: "sour", intensity: "high" },
                desc: "Masum adÄ±na aldanma, iÃ§inde 5 Ã§eÅŸit alkol var. HÄ±zlÄ± sarhoÅŸluk garantili.",
                recipe: "2cl Votka, 2cl Cin, 2cl Rom, 2cl Tekila, 2cl Portakal LikÃ¶rÃ¼<br>Limon suyu<br>Kola ile tamamla.",
                query: "votka cin rom fiyatlarÄ±"
            },
            {
                name: "MOSCOW MULE",
                tags: { mood: "relax", taste: "sour", intensity: "medium" },
                desc: "Zencefilin yakÄ±cÄ± ferahlÄ±ÄŸÄ±. BakÄ±r kupada buz gibi bir klasik.",
                recipe: "5cl Votka<br>15cl Zencefil Gazozu (Ginger Beer)<br>Misket limonu suyu.",
                query: "votka fiyatlarÄ± ginger beer"
            },
            {
                name: "COSMOPOLITAN",
                tags: { mood: "classy", taste: "fruity", intensity: "medium" },
                desc: "Åehirli, ÅŸÄ±k ve pembe. Sex and the City ile ikonlaÅŸmÄ±ÅŸ modern bir klasik.",
                recipe: "4cl Votka (Limonlu)<br>2cl Portakal LikÃ¶rÃ¼<br>1cl Limon suyu<br>3cl KÄ±zÄ±lcÄ±k suyu.",
                query: "votka fiyatlarÄ± cointreau"
            }
        ];

        // --- 2. SORULAR VE PUANLAMA ---
        const questions = [
            {
                text: "HoÅŸ geldin. BugÃ¼n ruh halin nasÄ±l?",
                options: [
                    { label: "Yorgunum, Resetle beni", value: "relax" },
                    { label: "Enerjik, Parti modu!", value: "energy" },
                    { label: "Melankolik / DÃ¼ÅŸÃ¼nceli", value: "deep" },
                    { label: "Sofistike / ÅÄ±k", value: "classy" }
                ],
                key: "mood"
            },
            {
                text: "DamaÄŸÄ±nda ne arÄ±yorsun?",
                options: [
                    { label: "EkÅŸi ve Ferah", value: "sour" },
                    { label: "AcÄ± ve Karakterli", value: "bitter" },
                    { label: "TatlÄ± / YumuÅŸak", value: "sweet" },
                    { label: "Meyvemsi", value: "fruity" }
                ],
                key: "taste"
            },
            {
                text: "Son olarak, ne kadar sert olsun?",
                options: [
                    { label: "Hafif (Ã‡arpmayan)", value: "low" },
                    { label: "Orta (Keyiflik)", value: "medium" },
                    { label: "Sert (YÃ¼ksek Alkol)", value: "high" }
                ],
                key: "intensity"
            }
        ];

        // --- 3. UYGULAMA MANTIÄI ---
        let currentStep = 0;
        let userPrefs = {};

        const dialogueBox = document.getElementById('dialogue-text');
        const optionsBox = document.getElementById('options-container');
        const resultArea = document.getElementById('result-area');

        // YazÄ± Efekti
        function typeWriter(text, i, callback) {
            if (i < text.length) {
                dialogueBox.innerHTML = text.substring(0, i+1) + '<span style="color:#ff9900">_</span>';
                setTimeout(() => typeWriter(text, i + 1, callback), 30);
            } else {
                dialogueBox.innerHTML = text; // Ä°mleci kaldÄ±r
                if (callback) callback();
            }
        }

        function renderStep() {
            optionsBox.innerHTML = ""; // Temizle
            
            if (currentStep < questions.length) {
                const q = questions[currentStep];
                typeWriter(q.text, 0, () => {
                    // SeÃ§enekleri oluÅŸtur
                    q.options.forEach(opt => {
                        const btn = document.createElement('button');
                        btn.className = 'option-btn';
                        btn.innerText = `> ${opt.label}`;
                        btn.onclick = () => handleSelection(q.key, opt.value);
                        optionsBox.appendChild(btn);
                    });
                });
            } else {
                calculateAndShowResult();
            }
        }

        function handleSelection(key, value) {
            userPrefs[key] = value;
            currentStep++;
            renderStep();
        }

        // --- 4. HESAPLAMA MOTORU ---
        function calculateAndShowResult() {
            typeWriter("Veriler analiz ediliyor... En uygun karÄ±ÅŸÄ±m hazÄ±rlanÄ±yor...", 0, () => {
                setTimeout(() => {
                    optionsBox.style.display = 'none'; // SeÃ§enekleri gizle
                    
                    // Puanlama Sistemi
                    let bestDrink = null;
                    let maxScore = -1;

                    drinksDB.forEach(drink => {
                        let score = 0;
                        if (drink.tags.mood === userPrefs.mood) score += 3; // Mood Ã§ok Ã¶nemli
                        if (drink.tags.taste === userPrefs.taste) score += 2;
                        if (drink.tags.intensity === userPrefs.intensity) score += 2;
                        
                        // Biraz rastgelelik ekle ki hep aynÄ±sÄ± Ã§Ä±kmasÄ±n (0 ile 1 arasÄ±)
                        score += Math.random();

                        if (score > maxScore) {
                            maxScore = score;
                            bestDrink = drink;
                        }
                    });

                    showResult(bestDrink);
                }, 1000);
            });
        }

        function showResult(drink) {
            resultArea.style.display = 'block';
            
            document.getElementById('drink-name').innerText = drink.name;
            document.getElementById('drink-description').innerText = drink.desc;
            document.getElementById('drink-recipe').innerHTML = drink.recipe;
            
            // Google AlÄ±ÅŸveriÅŸ Linki OluÅŸturma
            const searchUrl = `https://www.google.com/search?q=${encodeURIComponent(drink.query)}&tbm=shop`;
            const btn = document.getElementById('price-link');
            btn.href = searchUrl;
            
            dialogueBox.innerHTML = `<span style="color:#ff9900">Ä°ÅTE TAVSÄ°YEM:</span><br>Senin iÃ§in ${drink.name} seÃ§ildi.`;
        }

        // BaÅŸlat
        window.onload = () => {
            renderStep();
        };

    </script>
</body>
</html>
